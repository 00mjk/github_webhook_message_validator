sudo: false
language: rust
rust:
- nightly
- beta
- stable
matrix:
  allow_failures:
  - rust: nightly
before_script:
- |
  pip install 'travis-cargo<0.2' --user &&
  export PATH=$HOME/.local/bin:$PATH
script:
- |
  travis-cargo build &&
  travis-cargo test &&
  travis-cargo bench &&
  travis-cargo --only stable doc
addons:
  apt:
    packages:
    - libcurl4-openssl-dev
    - libelf-dev
    - libdw-dev
after_success:
- travis-cargo --only stable doc-upload
- travis-cargo coveralls --no-sudo
notifications:
  email:
    on_success: never
env:
  global:
    - secure: T+BDejGP+Cn2bwRlQMl/ZZSR6N6gcG4OxK3a1I3BftqqMba6K2Bw2BCS791BBxxccdOpg4wT09aVqEZ8xDTtSuWdAykwUFOIO4kG6VwcI3whc1GCDdNozDRP+9QgHU9Ne2GNwtBkdwQdh8A51QdTylSmmGCDbi9sH5k5XhNO3mX5+WtBIIh12iKU4IJQvaWfRmZAG7wloKfyE5/a7xpy1mfJS+KtJQPBnESgjla239HkEE5lkQVtbHfSf3/w84/7qwhh1JxUbLEpYfPo3bW2ougmoCvmrRwGEidK/w7uzXGJZah7vu0oaPM/PLIsvlZcVQvUP4cBJa0KvqO9amb0/EVTXsxtYdceSF3sDwB5u/O+q4rQiV12+HtlaZuLizdRD0HPgujvmqK5OdWgCC34lt5tVzsH7wgCWuAH1zIHQtl7UA11uj43PXwvZvHSjgEGSnwg0rgv2eYcKsiB1ivhA1wx+9quedNdUyQI6HRF4rhuXR8jn1hYgHEzQtkpcoVPk02OIx7Myr38GKxSFFCZARkzxu055c0Xie4Kr3djII4UiBctfT3KegOiFhRs+zrzE3o0bcbDluAYzsJfY00gvCuUmk12YFKgF5IZaMG0MdDb78Kmv2V4Cx0+p2FIiEsUIJ8nyW0zCvfqn2X5Mm+LeEmMgjR45rS+KEAxU2vrGOw=
    - TRAVIS_CARGO_NIGHTLY_FEATURE=""
